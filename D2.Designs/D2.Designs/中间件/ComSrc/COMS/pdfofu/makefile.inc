##########################################################################
##
##  makefile.inc
##
##########################################################################
## win32 平台
##    .cpp  .obj:
##        $(CPP) $(CFLAGS) /c -Fo$*.obj $< $(DEFS) $(INCDIR)
##
## linux 平台
##    .cpp  .o:
##        $(CC) $(CFLAGS) -o $*.o $(INCDIR)  $*.cpp
##########################################################################

#(1)主程序目标文件
OBJ1 = ProductFoFutuAcco.$(TO) ldstring.$(TO) lddate.$(TO)
OBJ2 = ProductFoFutuCapital.$(TO) ldstring.$(TO) lddate.$(TO)
OBJ3 = ProductFoFutuPosi.$(TO) ldstring.$(TO) lddate.$(TO)
OBJ4 = ProductFoFutuPubIF.$(TO) ldstring.$(TO) lddate.$(TO)
OBJ5 = ProductFoFutuClearIF.$(TO) ldstring.$(TO) lddate.$(TO)
OBJ6 = ProductFoFutuExchIF.$(TO) ldstring.$(TO) lddate.$(TO)

#(2)编译依赖.cpp.o:
#先清除目标文件
all : clean  	$(COM1)	$(COM2)	$(COM3)	$(COM4)	$(COM5)	$(COM6)

ProductFoFutuAcco.$(TO):ProductFoFutuAcco.cpp
	$(CC) $(CFLAGS) ProductFoFutuAcco.cpp -I$(INCDIR)
ProductFoFutuCapital.$(TO):ProductFoFutuCapital.cpp
	$(CC) $(CFLAGS) ProductFoFutuCapital.cpp -I$(INCDIR)
ProductFoFutuPosi.$(TO):ProductFoFutuPosi.cpp
	$(CC) $(CFLAGS) ProductFoFutuPosi.cpp -I$(INCDIR)
ProductFoFutuPubIF.$(TO):ProductFoFutuPubIF.cpp
	$(CC) $(CFLAGS) ProductFoFutuPubIF.cpp -I$(INCDIR)
ProductFoFutuClearIF.$(TO):ProductFoFutuClearIF.cpp
	$(CC) $(CFLAGS) ProductFoFutuClearIF.cpp -I$(INCDIR)
ProductFoFutuExchIF.$(TO):ProductFoFutuExchIF.cpp
	$(CC) $(CFLAGS) ProductFoFutuExchIF.cpp -I$(INCDIR)

ldstring.$(TO):../../pub/ldstring.cpp
	$(CC) $(CFLAGS) ../../pub/ldstring.cpp -I$(INCDIR)
lddate.$(TO):../../pub/lddate.cpp
	$(CC) $(CFLAGS) ../../pub/lddate.cpp -I$(INCDIR)

$(COM1):$(OBJ1)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM1)$(LIB_EXT) $(OBJ1) $(STDLIBS)  $(DEFLIBS) $(EXPS)
$(COM2):$(OBJ2)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM2)$(LIB_EXT) $(OBJ2) $(STDLIBS)  $(DEFLIBS) $(EXPS)
$(COM3):$(OBJ3)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM3)$(LIB_EXT) $(OBJ3) $(STDLIBS)  $(DEFLIBS) $(EXPS)
$(COM4):$(OBJ4)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM4)$(LIB_EXT) $(OBJ4) $(STDLIBS)  $(DEFLIBS) $(EXPS)
$(COM5):$(OBJ5)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM5)$(LIB_EXT) $(OBJ5) $(STDLIBS)  $(DEFLIBS) $(EXPS)
$(COM6):$(OBJ6)
	$(LD) $(LFLAGS) -o$(OUTDIR)/$(LIB_PRE)$(COM6)$(LIB_EXT) $(OBJ6) $(STDLIBS)  $(DEFLIBS) $(EXPS)

#(3)清理命令
cleanobj:
	$(RMOBJ)
clean:cleanobj
	@echo clean all
	$(RMALL)
